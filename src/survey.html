<!-- Casa Domus landing page with the inital user survey
	Contributors: William Gao, James Williams
-->
<html>
<header>
	<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
	<title>Casa Domus</title>
	
	<link rel="stylesheet" href="survey.css">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4"
	 crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Quicksand|Open+Sans|Cabin|Roboto:300" rel="stylesheet">

	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/X.Y.Z/angular-animate.js"></script>
	<script src="https://maps.google.com/maps/api/js?v=3&key=AIzaSyB0vnW0Sd48sd0msALTLt3vGWIMwnwLBG4" type="http://text/javascript"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
	<script src="survey.js"></script>
	
	<div style="font-family: 'Quicksand', sans-serif;" letter-spacing: 4px>
	<div class="header" id="myHeader" >
   		<h1> <img src="house.png" height="32" width="32"> Casa Domus</h1>
	</header>
	</div>

	<script>
	$(document).ready(function(){
      $("button").click(function(){
        $("#div1").fadeIn();
        $("#survey").fadeIn(3000);
      });
	});
	</script>
</header>

<body>
	<br>
	<br>

	<div class="content">
	<center>
		<div style="font-family: 'Roboto', sans-serif;" letter-spacing: 4px>
			<br>
			<font size="7" color="black">
				Let's find a neighborhood just for you!
				<br>
				<br>
				<font size="7" color="white">
						<button class="btn btn-primary btn-lg" onclick="this.style.display = 'none'">START HERE</button>
					</font>
				<div id="div1" style="display:none">
				<br>
				<font size="6">
					We'll begin with a couple questions.
				</font>
				
				<br>
				<br>

				<!- Angularjs View ->
				<div ng-app="mainApp" ng-controller="surveyController">

					<!- Input ->
					<table id="table" align="center" cellpadding="15" style="margin: 0px auto;">
						<div class="container">
						  <div class="row">
    					    <div class="col-sm">What is your current median household income?</div>
    						<div class="col-sm">
    							<input type="range" min="20000" max="200000" value="110000" class="slider" ng-model="userIncome">{{userIncome | currency}}
    						</div>
						</div>

						<div class="row">
    					    <div class="col-sm">What is your current median household income?</div>
    						<div class="col-sm">
    							<input type="range" min="20000" max="200000" value="110000" class="slider" ng-model="userIncome">{{userIncome | currency}}
    						</div>
						</div>

						<tr>
							<td align="center">What is your current median household income?</td>
							<td>
								<input type="range" min="20000" max="200000" value="110000" class="slider" ng-model="userIncome">{{userIncome | currency}}
							</td>
						</tr>

						<tr></tr>

						<tr>
							<td align="center">How much property value can you afford?</td>
							<td>
								<input type="range" min="19800" max="1000000" value="509900" class="slider" ng-model="userProperty">{{userProperty | currency}}
							</td>
						</tr>
						<tr></tr>
						

						
						<tr>
							<td align="center">Cost of Living Index: How far do you want your dollar to go? (The average in America is 100)</td>
							<td>
								<input type="range" min="88" max="188" value="136.5" class="slider" ng-model="userLiving">{{userLiving}}
							</td>
						</tr>
						<tr></tr>

						<tr>
							<td align="center">How much can you afford to spend on rent per month?</td>
							<td>
								<input type="range" min="400" max="3000" value="1700" class="slider" ng-model="userRent">{{userRent | currency}}
							</td>
						</tr>
						
						<tr>
							<td align="center">How hot do you want it to be in the summer?</td>
							<td>
								<input type="range" min="0" max="100" value="1700" class="slider" ng-model="userJuly">{{userJuly}}&deg
							</td>
						</tr>

						<tr>
							<td align="center">How cold do you want it be in the winter?</td>
							<td>
								<input type="range" min="0" max="100" value="1700" class="slider" ng-model="userJan">{{userJan}}&deg
							</td>
						</tr>
					

					</table>


					<br>
					<font size="7" color="white">
						<button ng-click="openMap()" class="btn btn-primary btn-lg">Go to Map</button>
					</font>
					</div>
	</center>

	</body>

</font>
<br>
<br>
<br>

</div>
</center>
</content>

<script>
		var userResults = [];

		// Angularjs Controller
		var mainApp = angular.module("mainApp", []);

		mainApp.controller('surveyController', function ($scope) {

			// User values (default values)
			$scope.userIncome = 110000;
			$scope.userProperty = 509900;
			$scope.userLiving = 136.5;
			$scope.userRent = 1700;
			$scope.userJan = 50;
			$scope.userJuly = 50;

			$scope.openMap = function () {
				// go to maps page, bring the results of the questionnaire
				map_url = "map.html?income="
					+ String($scope.userIncome) + "&property="
					+ String($scope.userProperty) + "&living="
					+ String($scope.userLiving) + "&rent="
					+ String($scope.userRent) + "&jan="
					+ String($scope.userJan) + "&july="
					+ String($scope.userJuly);

				window.location.href = map_url;
			};
		});
</script>

<!--sticky header bar -->
<script>
window.onscroll = function() {myFunction()};

var header = document.getElementById("myHeader");
var sticky = header.offsetTop;

function myFunction() {
  if (window.pageYOffset >= sticky) {
    header.classList.add("sticky");
  } else {
    header.classList.remove("sticky");
  }
}
</script>

</body>
</html>